.popularBrands {
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5rem;

        .popularBrandsWrapper {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;

            // =========== Both Rows

            .row {
                position: relative;
                display: grid;
                gap: 1.2rem;
                width: 100%;
                height: 60vh;
                transition: all 400ms;
                overflow: hidden;

                .box {
                    position: relative;
                    background: var(--img) center center;
                    background-size: cover;
                    transition: all 400ms;
                    display: flex;
                    justify-content: center;
                    align-items: flex-end;
                    border-radius: 25px;
                    padding-bottom: 1.2rem;
                    overflow: hidden;

                    h4 {
                        z-index: 4;
                        color: $white;
                    }

                    /* Overlay fade effects */
                    .overlay {
                        position: absolute;
                        width: 100%;
                        bottom: -1%;
                        left: 0;
                        display: flex;
                        justify-content: space-between;
                        align-items: flex-end;
                        padding: 6rem 1.6rem 1.6rem;
                        color: $white;
                        z-index: 2;

                        a {
                            color: $white;
                        }

                        @mixin apply-gradient($red, $green, $blue, $opacity) {
                            background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba($red, $green, $blue, $opacity) 65%);
                        }

                        &.overlay1 {
                            @include apply-gradient(95, 227, 212, 0.7);
                        }

                        &.overlay2 {
                            @include apply-gradient(137, 210, 141, 0.7);
                        }

                        &.overlay3 {
                            @include apply-gradient(246, 174, 1, 0.7);
                        }

                        &.overlay4 {
                            @include apply-gradient(240, 0, 47, 0.7);
                        }

                        &.overlay5 {
                            @include apply-gradient(167, 84, 39, 0.7);
                        }

                        &.overlay6 {
                            @include apply-gradient(253, 146, 166, 0.7);
                        }
                    }
                }
            }

            .row:has(.box-1:hover) {
                grid-template-columns: 2fr 1fr 1fr;
            }

            .row:has(.box-2:hover) {
                grid-template-columns: 1fr 2fr 1fr;
            }

            .row:has(.box-3:hover) {
                grid-template-columns: 1fr 1fr 2fr;
            }

            // =========== Grid for Row 1
            .row1 {
                grid-template-columns: 2fr 1fr 1fr;
            }

            // =========== Grid for Row 2
            .row2 {
                grid-template-columns: 1fr 2fr 1fr;
            }
        }
    }
}

//======================== Breakpoints ========================//
@media (max-width: 1440px) {
    .popularBrands {
        .container {
            gap: 4rem;

            .popularBrandsWrapper {
                gap: 1rem;

                // =========== Both Rows
                .row {
                    gap: 1rem;

                    .box {
                        padding-bottom: 2rem;
                    }
                }
            }
        }
    }
}

@media (max-width: 1100px) {
    .popularBrands {
        .container {
            .popularBrandsWrapper {

                // =========== Both Rows
                .row {
                    max-height: 420px;
                }
            }
        }
    }
}

@media (max-width: 670px) {
    .popularBrands {
        .container {
            gap: 3rem;

            .popularBrandsWrapper {

                // =========== Both Rows
                .row {
                    max-height: fit-content;
                    height: calc(50vh * 3);
                }

                .row:has(.box-1:hover) {
                    grid-template-columns: 1fr;
                }

                .row:has(.box-2:hover) {
                    grid-template-columns: 1fr;
                }

                .row:has(.box-3:hover) {
                    grid-template-columns: 1fr;
                }

                // =========== Grid for Row 1
                .row1 {
                    grid-template-columns: 1fr;
                }

                // =========== Grid for Row 2
                .row2 {
                    grid-template-columns: 1fr;
                }
            }
        }
    }
}